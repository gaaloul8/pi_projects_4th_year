<!-- <div class="container">
    <div class="row">
        <div class="col-md-12">
            <div *ngFor="let post of posts"  class="mb-3">
            <div class="card " >
                <div class="card-body" >
                   
                        <div class="media mb-3 d-flex" >
                            <img
                                src="https://bootdey.com/img/Content/avatar/avatar3.png"
                                class="d-block ui-w-40 rounded-circle"
                                width="40"
                                height="40"
                                alt=""
                            />
                            <div class="media-body ml-3">
                                Kenneth Frazier
                                <div class="text-muted small">{{post.postDate}}</div>
                            </div>
                        </div>
                    
                    

                    <p>{{ post.content }}</p>
                    <img *ngIf="post.image" [src]="'data:image/png;base64,' + post.image" alt="Post Image" width="300px" height="300px">
  <img *ngIf="!post.image" src="https://via.placeholder.com/100x200" alt="Placeholder Image">

                 
                </div>
                <div class="card-footer">
                    <a
                        href="javascript:void(0)"
                        class="d-inline-block text-muted"
                    >
                        <strong>123</strong>
                        <small class="align-middle">Likes</small>
                    </a>
                    <a
                        href="javascript:void(0)"
                        class="d-inline-block text-muted ml-3"
                    >
                        <strong>12</strong>
                        <small class="align-middle">Comments</small>
                    </a>
                    <a
                        href="javascript:void(0)"
                        class="d-inline-block text-muted ml-3"
                    >
                        <small class="align-middle">Repost</small>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div> -->
<div class="container">
    <div class="row">
        <div class="col-md-12">
            <div *ngFor="let post of posts"  class="mb-3">
                <div class="card">
                    <div class="card-body">
                        <div class="media mb-3 d-flex">
                            <img [src]="'data:image/png;base64,' + post.user.profilePicture" alt="Post Image" class="d-block ui-w-40 rounded-circle" width="40" height="40" alt="" />
                            <div class="media-body ml-3">
                                {{post.user.firstName}} {{post.user.lastName}}
                                <div class="text-muted small">{{ calculateTimeAgo(post.postDate)}}</div>
                                
                            </div>
                        </div>
                        <p>{{ post.content }}</p>
                        <div class="post-image-container">
                            <img *ngIf="post.image" [src]="'data:image/png;base64,' + post.image" alt="Post Image" class="post-image">
                            <img *ngIf="!post.image" src="https://via.placeholder.com/100x200" alt="Placeholder Image" class="post-image">
                        </div>
                        
                    </div>
                    <div class="card-footer">
                        <a href="javascript:void(0)" class="d-inline-block text-muted" (click)="Toggleliked(post)">
                            <i class="bi bi-heart{{ post.likedByCurrentUser ? '-fill' : '' }}" [style.color]="post.likedByCurrentUser ? 'red' : 'black'"></i>
                            <strong class="mr-1">{{ post.likes }}</strong>
                            <small class="align-middle">Likes</small>
                        </a>
                        
                        
                        
                        
                        <a href="javascript:void(0)" class="d-inline-block text-muted ml-3" (click)="showComments(post)">
                            <i class="bi bi-chat-left-fill mr-1"  style="color: yellow;"></i>
                            <strong class="mr-1">{{ post.comments?.length }}</strong>
                            <small class="align-middle">Comment</small>
                        </a>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="commentsModal" tabindex="-1" role="dialog" aria-labelledby="commentsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="commentsModalLabel">Comments</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <ul class="list-group">
                    <li *ngFor="let comment of comments" class="list-group-item">{{ comment.content }}</li>
                </ul>
            </div>
        </div>
    </div>
</div>